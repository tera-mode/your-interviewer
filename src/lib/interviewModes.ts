import { InterviewMode } from '@/types';

// ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰è¨­å®š
export interface InterviewModeConfig {
  id: InterviewMode;
  name: string;
  description: string;
  questionCount: number | 'endless'; // è³ªå•æ•°ï¼ˆendless = ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼‰
  icon: string;
  features: string[];
  systemPromptFocus: string; // AIã¸ã®æŒ‡ç¤ºã®ç„¦ç‚¹
}

export const INTERVIEW_MODES: InterviewModeConfig[] = [
  {
    id: 'basic',
    name: 'åŸºæœ¬ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼',
    description: 'å¤šè§’çš„ã«ã‚ãªãŸã‚’æ·±æŽ˜ã‚Šã—ã€æ§˜ã€…ãªé­…åŠ›ã‚’ç™ºè¦‹ã—ã¾ã™',
    questionCount: 'endless',
    icon: 'ðŸ’¬',
    features: [
      'ã‚ãªãŸã®å¤šé¢çš„ãªé­…åŠ›ã‚’ç™ºè¦‹',
      'çµ‚äº†ãƒœã‚¿ãƒ³ã§ã„ã¤ã§ã‚‚çµ‚äº†å¯èƒ½',
      'å¹…åºƒã„ãƒˆãƒ”ãƒƒã‚¯ã‚’ã‚«ãƒãƒ¼',
    ],
    systemPromptFocus: `
ã‚ãªãŸã¯ãƒ—ãƒ­ã®ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¯ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¤šé¢çš„ãªé­…åŠ›ã‚’å¼•ãå‡ºã™ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚

ã€è³ªå•ã®æ–¹é‡ã€‘
- æ€§æ ¼ã€è¶£å‘³ã€ä»•äº‹ã€ä¾¡å€¤è¦³ã€ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã€çµŒé¨“ãªã©å¹…åºƒã„ãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦è³ªå•
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å›žç­”ã«åŸºã¥ã„ã¦æ·±æŽ˜ã‚Šè³ªå•ã‚’è¡Œã†
- 1ã¤ã®ãƒˆãƒ”ãƒƒã‚¯ã«å›ºåŸ·ã›ãšã€æ§˜ã€…ãªè§’åº¦ã‹ã‚‰è³ªå•
- ç›¸æ‰‹ãŒè©±ã—ã‚„ã™ã„é›°å›²æ°—ã‚’ä½œã‚‹

ã€æ³¨æ„ç‚¹ã€‘
- è³ªå•ã¯1å›žã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§1ã¤ã ã‘
- å …è‹¦ã—ããªã‚‰ãªã„ã‚ˆã†ã€è‡ªç„¶ãªä¼šè©±ã‚’å¿ƒãŒã‘ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å›žç­”ã‚’è‚¯å®šçš„ã«å—ã‘æ­¢ã‚ã‚‹
`,
  },
  {
    id: 'self-pr',
    name: 'è‡ªå·±PRç™ºè¦‹',
    description: 'ä»•äº‹ã§ã®å¼·ã¿ã‚„æˆæžœã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã€è‡ªå·±PRã‚’ä½œæˆã—ã¾ã™',
    questionCount: 10,
    icon: 'ðŸ’¼',
    features: [
      'ä»•äº‹ãƒ»ã‚­ãƒ£ãƒªã‚¢ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹',
      'å¼·ã¿ã¨æˆæžœã‚’æ˜Žç¢ºåŒ–',
      '10å•ã§å®Œäº†',
    ],
    systemPromptFocus: `
ã‚ãªãŸã¯ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä»•äº‹ã«ãŠã‘ã‚‹å¼·ã¿ã¨æˆæžœã‚’å¼•ãå‡ºã™ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚

ã€è³ªå•ã®æ–¹é‡ã€‘
- ç¾åœ¨ã®ä»•äº‹ã‚„å½¹å‰²ã«ã¤ã„ã¦
- ã“ã‚Œã¾ã§ã®æˆåŠŸä½“é¨“ã‚„é”æˆã—ãŸã“ã¨
- å›°é›£ã‚’ä¹—ã‚Šè¶ŠãˆãŸçµŒé¨“
- å¾—æ„ãªã‚¹ã‚­ãƒ«ã‚„å°‚é–€æ€§
- ãƒãƒ¼ãƒ ã§ã®å½¹å‰²ã‚„ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—
- ä»•äº‹ã§å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã“ã¨
- å°†æ¥ã®ã‚­ãƒ£ãƒªã‚¢ç›®æ¨™

ã€è³ªå•ã®æµã‚Œï¼ˆ10å•ï¼‰ã€‘
1-2å•: ç¾åœ¨ã®ä»•äº‹ãƒ»å½¹å‰²ã®ç¢ºèª
3-4å•: æˆåŠŸä½“é¨“ãƒ»é”æˆã—ãŸã“ã¨
5-6å•: å›°é›£ã‚’ä¹—ã‚Šè¶ŠãˆãŸçµŒé¨“
7-8å•: å¼·ã¿ã¨ã‚¹ã‚­ãƒ«
9-10å•: ä¾¡å€¤è¦³ã¨ãƒ“ã‚¸ãƒ§ãƒ³

ã€æ³¨æ„ç‚¹ã€‘
- å…·ä½“çš„ãªã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’å¼•ãå‡ºã™
- æ•°å­—ã‚„æˆæžœã‚’èžãå‡ºã™
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ°—ã¥ã„ã¦ã„ãªã„å¼·ã¿ã‚‚ç™ºè¦‹ã™ã‚‹
`,
  },
  {
    id: 'manual',
    name: 'ã‚ãŸã—ã®å–èª¬',
    description: 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚„å¥½ãå«Œã„ã‚’æ˜Žç¢ºã«ã—ã¾ã™',
    questionCount: 10,
    icon: 'ðŸ“–',
    features: [
      'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ˜Žç¢ºåŒ–',
      'å¥½ãå«Œã„ã‚’æ•´ç†',
      '10å•ã§å®Œäº†',
    ],
    systemPromptFocus: `
ã‚ãªãŸã¯ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã‚¢ãƒŠãƒªã‚¹ãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«ã¨å¥½ãå«Œã„ã‚’æ˜Žç¢ºã«ã™ã‚‹ã“ã¨ãŒç›®æ¨™ã§ã™ã€‚

ã€è³ªå•ã®æ–¹é‡ã€‘
- äººã¨ã®é–¢ã‚ã‚Šæ–¹ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
- ä»•äº‹ã‚„ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã®å¥½ãå«Œã„
- ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãƒ»ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹ã“ã¨
- ç†æƒ³ã®ç’°å¢ƒã‚„é–¢ä¿‚æ€§
- è‡ªåˆ†ã®å–ã‚Šæ‰±ã„æ–¹ï¼ˆã“ã†ã—ã¦ã»ã—ã„/ã“ã‚Œã¯NGï¼‰

ã€è³ªå•ã®æµã‚Œï¼ˆ10å•ï¼‰ã€‘
1-2å•: ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¥½ã¿
3-4å•: ä»•äº‹ã§ã®å¥½ãå«Œã„
5-6å•: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã§ã®å¥½ãå«Œã„
7-8å•: ã‚¹ãƒˆãƒ¬ã‚¹è¦å› ã¨ãƒªãƒ©ãƒƒã‚¯ã‚¹æ–¹æ³•
9-10å•: ç†æƒ³ã®é–¢ã‚ã‚Šæ–¹

ã€æ³¨æ„ç‚¹ã€‘
- å…·ä½“çš„ãªã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èžã
- ã€Œã“ã†ã„ã†æ™‚ã¯ã“ã†ã—ã¦ã»ã—ã„ã€ã‚’å¼•ãå‡ºã™
- ãƒã‚¸ãƒ†ã‚£ãƒ–ãªé¢ã‚‚ãƒã‚¬ãƒ†ã‚£ãƒ–ãªé¢ã‚‚ãƒãƒ©ãƒ³ã‚¹ã‚ˆãèžã
`,
  },
];

// ãƒ¢ãƒ¼ãƒ‰å–å¾—é–¢æ•°
export const getInterviewMode = (id: InterviewMode): InterviewModeConfig | undefined => {
  return INTERVIEW_MODES.find((mode) => mode.id === id);
};

// ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‹ã©ã†ã‹åˆ¤å®š
export const isEndlessMode = (mode: InterviewMode): boolean => {
  const config = getInterviewMode(mode);
  return config?.questionCount === 'endless';
};

// è³ªå•æ•°å–å¾—ï¼ˆã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¹ã®å ´åˆã¯nullï¼‰
export const getQuestionCount = (mode: InterviewMode): number | null => {
  const config = getInterviewMode(mode);
  if (!config || config.questionCount === 'endless') {
    return null;
  }
  return config.questionCount;
};
